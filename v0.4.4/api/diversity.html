<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diversity measures &mdash; PyVRP 0.4.4 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Search" href="search.html" />
    <link rel="prev" title="Crossover operators" href="crossover.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PyVRP
          </a>
              <div class="version">
                0.4.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/introduction_to_vrp.html">A brief introduction to VRP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/introduction_to_hgs.html">A brief introduction to HGS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/installation.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/getting_help.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/benchmarks.html">Benchmarks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/vrptw.html">Vehicle Routing Problem with Time Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/cvrp.html">Capacitated Vehicle Routing Problem</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pyvrp.html">PyVRP</a></li>
<li class="toctree-l1"><a class="reference internal" href="crossover.html">Crossover operators</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Diversity measures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pyvrp.diversity._diversity.broken_pairs_distance"><code class="docutils literal notranslate"><span class="pre">broken_pairs_distance()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="search.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="stop.html">Stopping criteria</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing PyVRP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/benchmarking.html">Benchmarking</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyVRP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Diversity measures</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/diversity.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="module-pyvrp.diversity"></span><section id="diversity-measures">
<h1>Diversity measures<a class="headerlink" href="#diversity-measures" title="Permalink to this heading"></a></h1>
<p>The <a class="reference internal" href="#module-pyvrp.diversity" title="pyvrp.diversity: Diversity measures"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyvrp.diversity</span></code></a> module contains operators that determine the relative difference between two <a class="reference internal" href="pyvrp.html#pyvrp._pyvrp.Solution" title="pyvrp._pyvrp.Solution"><code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code></a> objects.
This difference provides a measure of diversity: a <a class="reference internal" href="pyvrp.html#pyvrp.Population.Population" title="pyvrp.Population.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> of highly diverse solutions allows the genetic algorithm to perform better.
At the same time, one also wants to balance diversity with quality: the solutions should also be good.
That balance is maintained by computing a fitness score for each solution, which balances the diversity with the objective value.</p>
<span class="target" id="module-pyvrp.diversity._diversity"></span><dl class="py function">
<dt class="sig sig-object py" id="pyvrp.diversity._diversity.broken_pairs_distance">
<span class="sig-name descname"><span class="pre">broken_pairs_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="pyvrp.html#pyvrp._pyvrp.Solution" title="pyvrp._pyvrp.Solution"><span class="pre">pyvrp._pyvrp.Solution</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">second</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="pyvrp.html#pyvrp._pyvrp.Solution" title="pyvrp._pyvrp.Solution"><span class="pre">pyvrp._pyvrp.Solution</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyvrp.diversity._diversity.broken_pairs_distance" title="Permalink to this definition"></a></dt>
<dd><p>Computes the symmetric broken pairs distance (BPD) between the given two
solutions. This function determines whether each client in the problem
shares neighbours between the first and second solution. If not, the
client is part of a ‘broken pair’: a link that is part of one solution,
but not of the other.</p>
<p>Formally, given two solutions <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(s\)</span>, let <span class="math notranslate nohighlight">\(p_f(i)\)</span>
and <span class="math notranslate nohighlight">\(p_s(i)\)</span> be the preceding client (or depot) of client
<span class="math notranslate nohighlight">\(i = 1, \ldots, n\)</span> in <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(s\)</span>, respectively.
Similarly define <span class="math notranslate nohighlight">\(s_f(i)\)</span> and <span class="math notranslate nohighlight">\(s_s(i)\)</span> for the succeeding
client (or depot). Then, we have</p>
<div class="math notranslate nohighlight">
\[\text{BPD}(f, s) = \frac{
     \sum_{i = 1}^n 1_{p_f(i) \ne p_s(i)} + 1_{s_f(i) \ne s_s(i)}
 }{2n}.\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that our definition is directed: a route <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4]</span></code> is
considered completely different from a route <code class="docutils literal notranslate"><span class="pre">[4,</span> <span class="pre">3,</span> <span class="pre">2,</span> <span class="pre">1]</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>first</strong></dt><dd><p>First solution.</p>
</dd>
<dt><strong>second</strong></dt><dd><p>Second solution.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">float</span></code></a></dt><dd><p>A value in [0, 1] that indicates the percentage of broken links between
the two solutions. A value near one suggests the solutions are
maximally diverse, a value of zero indicates they are the same.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="crossover.html" class="btn btn-neutral float-left" title="Crossover operators" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="search.html" class="btn btn-neutral float-right" title="Search" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 - 2023, PyVRP contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>